"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[942],{20117:(I,g,r)=>{r.r(g),r.d(g,{AddressExplorerPageModule:()=>w});var c=r(12714),x=r(84653),s=r(3323),u=r(23345),l=r(65949),m=r(88061),v=r(27204),A=r(90544),h=r(71951),e=r(9288),p=r(20976);function P(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ion-segment",14),e.NdJ("ionChange",function(d){return e.CHM(t),e.oxw().segmentChanged(d)}),e.TgZ(1,"ion-segment-button",15)(2,"ion-label"),e._uU(3,"Receive"),e.qZA()(),e.TgZ(4,"ion-segment-button",16)(5,"ion-label"),e._uU(6,"Change"),e.qZA()()()}}function Z(n,o){if(1&n&&(e.TgZ(0,"ion-card-content"),e._UZ(1,"airgap-qr",21),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("qrdata",t.address)("level","L")("size",200)}}function b(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card",17)(1,"ion-card-header",18),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().toggle(a)}),e.TgZ(2,"ion-card-subtitle"),e._uU(3),e.qZA(),e.TgZ(4,"h6")(5,"span",19),e._uU(6),e.qZA()()(),e.YNc(7,Z,2,3,"ion-card-content",20),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.derivationPath),e.xp6(3),e.Oqu(t.address),e.xp6(1),e.Q6J("ngIf",t.isExpanded)}}class E{constructor(o){this.rawKey=h.decode(o).slice(4)}toXpub(){return this.addPrefix("0488b21e")}toYPub(){return this.addPrefix("049d7cb2")}toZPub(){return this.addPrefix("04b24746")}addPrefix(o){const t=Buffer.concat([Buffer.from(o,"hex"),this.rawKey]);return h.encode(t)}}const T=[{path:"",component:(()=>{class n{constructor(t){this.navigationService=t,this.selectedTab="external",this.xpub="",this.addresses=[],this.showChange=!0,this.wallet=this.navigationService.getState().wallet}ngOnInit(){return(0,l.mG)(this,void 0,void 0,function*(){this.wallet&&(this.xpub=A.fromBase58(new E(this.wallet.publicKey).toXpub()).toBase58(),this.clearAddresses(),(yield this.wallet.protocol.getIdentifier())===m.MainProtocolSymbols.ETH&&(this.showChange=!1))})}segmentChanged(t){this.selectedTab=t.detail.value,this.clearAddresses()}clearAddresses(){return(0,l.mG)(this,void 0,void 0,function*(){this.addresses=[],this.addAddresses()})}loadData(t){return(0,l.mG)(this,void 0,void 0,function*(){yield this.addAddresses(),t.target.complete()})}toggle(t){t.isExpanded=!t.isExpanded}addAddresses(){return(0,l.mG)(this,void 0,void 0,function*(){const t=this.addresses.length;for(let i=0;i<20;i++){const d="external"===this.selectedTab?0:1,a=t+i,f=(yield this.wallet.protocol.getAddressFromExtendedPublicKey(this.xpub,d,a)).address;this.addresses.push({address:f,derivationPath:`${this.wallet.derivationPath}/${d}/${a}`,isExpanded:!1})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["airgap-address-explorer"]],decls:21,vars:3,consts:[[1,"ion-no-border"],["transparent",""],["slot","start"],["defaultHref","/tabs/tab-accounts"],[1,"ion-padding"],["value","external",3,"ionChange",4,"ngIf"],[1,"ion-align-items-center","ion-padding-top"],["size","12"],["lines","none","color","warning",1,"ion-margin-vertical",3,"detail"],["name","warning","slot","start","color","dark"],["color","dark",1,"ion-text-wrap"],["color","light",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more addresses..."],["value","external",3,"ionChange"],["value","external"],["value","internal"],["color","light"],[3,"click"],[1,"address"],[4,"ngIf"],[3,"qrdata","level","size"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"ion-back-button",3),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Address Explorer"),e.qZA()()(),e.TgZ(6,"ion-content",4),e.YNc(7,P,7,0,"ion-segment",5),e.TgZ(8,"ion-row",6)(9,"ion-col",7)(10,"ion-item",8),e._UZ(11,"ion-icon",9),e.TgZ(12,"ion-label",10)(13,"h3")(14,"strong"),e._uU(15,"Warning"),e.qZA()(),e.TgZ(16,"p"),e._uU(17," Only use those addresses if you know what you are doing. Using the wrong one could mean funds won't show up in your balance! "),e.qZA()()()()(),e.YNc(18,b,8,3,"ion-card",11),e.TgZ(19,"ion-infinite-scroll",12),e.NdJ("ionInfinite",function(a){return i.loadData(a)}),e._UZ(20,"ion-infinite-scroll-content",13),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("ngIf",i.showChange),e.xp6(3),e.Q6J("detail",!1),e.xp6(8),e.Q6J("ngForOf",i.addresses))},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.wd,s.W2,c.O5,s.cJ,s.QI,s.GO,s.Q$,s.Nd,s.wI,s.Ie,s.gu,c.sg,s.PM,s.Zi,s.tO,s.FN,p.Sx,s.ju,s.MB],styles:[""]}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(T)],u.Bz]}),n})(),w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[c.ez,p.Kk,x.u5,s.Pc,y]]}),n})()}}]);