"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6077],{42723:(P,d,n)=>{n.d(d,{K:()=>e});var u=n(20976),g=n(12714),i=n(84653),p=n(3323),l=n(34388),_=n(9527),v=n(51628),m=n(9288);let e=(()=>{class c{}return c.\u0275fac=function(C){return new(C||c)},c.\u0275mod=m.oAB({type:c}),c.\u0275inj=m.cJS({imports:[[p.Pc,v.D,g.ez,i.u5,l.aw,_.N,u.aD]]}),c})()},76077:(P,d,n)=>{n.r(d),n.d(d,{SecretGenerateCoinFlipPageModule:()=>Z});var u=n(12714),g=n(84653),i=n(3323),p=n(23345),l=n(65949),_=n(52971),v=n(55956),m=n(27204),e=n(9288),c=n(42951);function y(t){return parseInt(t,2)}let C=(()=>{class t{constructor(){}validateInput(o){return(0,l.mG)(this,void 0,void 0,function*(){if("string"!=typeof o)throw Error("Input needs to be a string");if(256!==o.length)throw Error("Input length needs to be exactly 256");if(!o.split("").every(r=>"01".includes(r)))throw Error('Input can only contain "0" or "1"');return!0})}getEntropyFromInput(o){return(0,l.mG)(this,void 0,void 0,function*(){if(!(yield this.validateInput(o)))throw new Error("Invalid Coin Flip");const r=o.match(/(.{1,8})/g).map(y),a=(0,c.zv)(new Uint8Array(r));return console.log("entropy",a),a})}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var M=n(8506),A=n(34388);const E=function(t){return{inputLength:t}},F=[{path:"",component:(()=>{class t{constructor(o,r){this.navigationService=o,this.coinFlipService=r,this.isValid=!1,this.minLength=256,this.maxLength=256,this.error="",this.entropy=""}ngOnInit(){}next(){return(0,l.mG)(this,void 0,void 0,function*(){const o=yield this.coinFlipService.getEntropyFromInput(this.entropy),r=new _.r(o);this.navigationService.routeWithState("secret-rules",{secret:r}).catch((0,v.a1)(v.qj.IONIC_NAVIGATION))})}updateEntropy(o){return(0,l.mG)(this,void 0,void 0,function*(){this.entropy=o,this.validateEntropy()})}validateEntropy(){return(0,l.mG)(this,void 0,void 0,function*(){if(256!==this.entropy.length)return this.isValid=!1,void(this.error="");try{this.isValid=yield this.coinFlipService.validateInput(this.entropy)}catch(o){this.isValid=!1,this.error=o}})}scrollToBottom(){this.content.scrollToBottom(500)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(m.f),e.Y36(C))},t.\u0275cmp=e.Xpm({type:t,selectors:[["airgap-secret-generate-coin-flip"]],viewQuery:function(o,r){if(1&o&&e.Gf(i.W2,5),2&o){let a;e.iGM(a=e.CRH())&&(r.content=a.first)}},decls:37,vars:27,consts:[[1,"ion-no-border"],["color","secondary"],["slot","start"],["defaultHref","/tabs/tab-settings"],[1,"ion-padding-horizontal"],[1,"ion-padding-bottom"],[3,"minLength","maxLength","gridWidth","defaultHeight","rowAddedEvent","entropyChanged"],["inputgrid",""],[1,"ion-padding"],["size","12"],[1,"button--rounded","ion-justify-content-between"],["shape","round",3,"disabled","click"],["color","tertiary",3,"disabled","click"],["name","trash-outline"],["name","chevron-forward-circle-outline"]],template:function(o,r){if(1&o){const a=e.EpF();e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"ion-back-button",3),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"ion-content",4)(8,"p",5),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"airgap-grid-input",6,7),e.NdJ("rowAddedEvent",function(){return r.scrollToBottom()})("entropyChanged",function(f){return r.updateEntropy(f)}),e.qZA()(),e.TgZ(13,"ion-footer",0)(14,"ion-toolbar")(15,"ion-row",8)(16,"ion-col",9)(17,"p"),e._uU(18),e.qZA()(),e.TgZ(19,"ion-col",9),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"ion-col",9)(23,"ion-row",10)(24,"div")(25,"ion-button",11),e.NdJ("click",function(){return e.CHM(a),e.MAs(12).add("0")}),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"ion-button",11),e.NdJ("click",function(){return e.CHM(a),e.MAs(12).add("1")}),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div")(32,"ion-button",12),e.NdJ("click",function(){return e.CHM(a),e.MAs(12).remove()}),e._UZ(33,"ion-icon",13),e.qZA(),e.TgZ(34,"ion-button",12),e.NdJ("click",function(){return r.next()}),e._UZ(35,"ion-icon",14),e.qZA()()(),e._UZ(36,"ion-row"),e.qZA()()()()}if(2&o){const a=e.MAs(12);e.xp6(5),e.Oqu(e.lcZ(6,14,"secret-generate-coin-flip.title")),e.xp6(4),e.hij(" ",e.lcZ(10,16,"secret-generate-coin-flip.description")," "),e.xp6(2),e.Q6J("minLength",r.minLength)("maxLength",r.maxLength)("gridWidth",8)("defaultHeight",32),e.xp6(7),e.Oqu(r.error),e.xp6(2),e.hij(" ",e.xi3(21,18,"secret-generate-coin-flip.status",e.VKq(25,E,a.entropy.length))," "),e.xp6(5),e.Q6J("disabled",a.entropy.length>=r.maxLength),e.xp6(1),e.hij(" ",e.lcZ(27,21,"secret-generate-coin-flip.head")," "),e.xp6(2),e.Q6J("disabled",a.entropy.length>=r.maxLength),e.xp6(1),e.hij(" ",e.lcZ(30,23,"secret-generate-coin-flip.tail")," "),e.xp6(3),e.Q6J("disabled",0===a.entropy.length),e.xp6(2),e.Q6J("disabled",!r.isValid)}},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,i.W2,M.Z,i.fr,i.Nd,i.wI,i.YG,i.gu],pipes:[A.X$],styles:[""]}),t})()}];let S=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[p.Bz.forChild(F)],p.Bz]}),t})();var T=n(42723);let Z=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.ez,T.K,g.u5,i.Pc,S,A.aw]]}),t})()},51628:(P,d,n)=>{n.d(d,{D:()=>g});var u=n(9288);let g=(()=>{class i{}return i.\u0275fac=function(l){return new(l||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[]]}),i})()}}]);