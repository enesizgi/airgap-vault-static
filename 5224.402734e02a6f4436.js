"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5224],{42723:(m,h,a)=>{a.d(h,{K:()=>s});var l=a(20976),u=a(12714),i=a(84653),n=a(3323),d=a(34388),y=a(9527),p=a(51628),S=a(9288);let s=(()=>{class c{}return c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=S.oAB({type:c}),c.\u0275inj=S.cJS({imports:[[n.Pc,p.D,u.ez,i.u5,d.aw,y.N,l.aD]]}),c})()},15224:(m,h,a)=>{a.r(h),a.d(h,{SocialRecoveryValidateSharePageModule:()=>M});var l=a(12714),u=a(84653),i=a(23345),n=a(3323),d=a(34388),y=a(42723),p=a(67323),S=a(13390),s=a(55956),c=a(27204),f=a(56810),e=a(9288),P=a(72781);const _=["verify"];function E(r,g){if(1&r){const t=e.EpF();e.TgZ(0,"airgap-verify-key",5,6),e.NdJ("onComplete",function(v){return e.CHM(t),e.oxw().onComplete(v)})("onContinue",function(){return e.CHM(t),e.oxw().onContinue()}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("secret",t.shares[t.currentShare])}}const C=[{path:"",component:(()=>{class r{constructor(t,o,v){this.deviceService=t,this.navigationService=o,this.secretsService=v,this.validated=!1,this.shares=this.navigationService.getState().shares,this.secret=this.navigationService.getState().secret,this.currentShare=this.navigationService.getState().currentShare}ionViewDidEnter(){this.deviceService.enableScreenshotProtection({routeBack:"social-recovery-setup"})}ionViewWillLeave(){this.deviceService.disableScreenshotProtection()}onComplete(t){this.validated=t}onContinue(){this.next.bind(this)()}back(){this.navigationService.back()}next(){this.shares.length===this.currentShare+1?(this.secret.hasSocialRecovery=!0,this.secretsService.addOrUpdateSecret(this.secret).then(()=>{this.navigationService.route("/tabs/tab-settings").catch((0,s.a1)(s.qj.IONIC_NAVIGATION))}).catch((0,s.a1)(s.qj.SECURE_STORAGE))):this.navigationService.routeWithState("/social-recovery-show-share",{shares:this.shares,currentShare:this.currentShare+1,secret:this.secret}).catch((0,s.a1)(s.qj.IONIC_NAVIGATION))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(S.U),e.Y36(c.f),e.Y36(f.R))},r.\u0275cmp=e.Xpm({type:r,selectors:[["airgap-social-recovery-validate-share"]],viewQuery:function(t,o){if(1&t&&e.Gf(_,5),2&t){let v;e.iGM(v=e.CRH())&&(o.verify=v.first)}},decls:12,vars:12,consts:[[1,"ion-no-border"],[1,"ion-padding-horizontal"],[3,"secret","onComplete","onContinue",4,"ngIf"],["color","primary",1,"ion-no-border"],[3,"rightEnabled","progress","maxProgress","rightAction","rightLabel"],[3,"secret","onComplete","onContinue"],["verify",""]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3),e.ALo(4,"translate"),e.qZA()()(),e.TgZ(5,"ion-content")(6,"p",1),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.YNc(9,E,2,1,"airgap-verify-key",2),e.qZA(),e.TgZ(10,"ion-footer",3),e._UZ(11,"airgap-progress-footer",4),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,8,"social-recovery-validate-share.title")),e.xp6(4),e.Oqu(e.lcZ(8,10,"social-recovery-validate-share.text")),e.xp6(2),e.Q6J("ngIf",o.shares),e.xp6(2),e.Q6J("rightEnabled",o.validated)("progress",2*o.currentShare+1)("maxProgress",2*o.shares.length)("rightAction",o.next.bind(o))("rightLabel",o.shares.length-1===o.currentShare?"Finish":"Next"))},directives:[n.Gu,n.sr,n.wd,n.W2,l.O5,p.o,n.fr,P.R],pipes:[d.X$],styles:[""]}),r})()}];let M=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[l.ez,y.K,u.u5,n.Pc,i.Bz.forChild(C),d.aw]]}),r})()},51628:(m,h,a)=>{a.d(h,{D:()=>u});var l=a(9288);let u=(()=>{class i{}return i.\u0275fac=function(d){return new(d||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({imports:[[]]}),i})()}}]);