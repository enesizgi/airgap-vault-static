"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8367],{58367:(_,d,u)=>{u.r(d),u.d(d,{FilePickerWeb:()=>m});var r=u(33986),c=u(47096);class m extends c.Uw{constructor(){super(...arguments),this.ERROR_PICK_FILE_CANCELED="pickFiles canceled."}pickFiles(e){var t=this;return(0,r.Z)(function*(){const l=yield t.openFilePicker(e);if(!l)throw new Error(t.ERROR_PICK_FILE_CANCELED);const i={files:[]};for(const n of l){const o={blob:n,modifiedAt:n.lastModified,mimeType:t.getMimeTypeFromUrl(n),name:t.getNameFromUrl(n),path:void 0,size:t.getSizeFromUrl(n)};(null==e?void 0:e.readData)&&(o.data=yield t.getDataFromFile(n)),i.files.push(o)}return i})()}pickImages(e){var t=this;return(0,r.Z)(function*(){throw t.unimplemented("Not implemented on web.")})()}pickMedia(e){var t=this;return(0,r.Z)(function*(){throw t.unimplemented("Not implemented on web.")})()}pickVideos(e){var t=this;return(0,r.Z)(function*(){throw t.unimplemented("Not implemented on web.")})()}openFilePicker(e){var t=this;return(0,r.Z)(function*(){var l;const i=(null===(l=null==e?void 0:e.types)||void 0===l?void 0:l.join(","))||"",n=!!(null==e?void 0:e.multiple);return new Promise(o=>{let a=!1;const s=document.createElement("input");s.type="file",s.accept=i,s.multiple=n,s.addEventListener("change",()=>{a=!0;const p=Array.from(s.files||[]);o(p)},{once:!0}),window.addEventListener("focus",(0,r.Z)(function*(){yield t.wait(1e3),!a&&o(void 0)}),{once:!0}),s.click()})})()}getDataFromFile(e){return(0,r.Z)(function*(){return new Promise((t,l)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{const a=("string"==typeof i.result?i.result:"").split("base64,")[1]||"";t(a)},i.onerror=n=>{l(n)}})})()}getNameFromUrl(e){return e.name}getMimeTypeFromUrl(e){return e.type}getSizeFromUrl(e){return e.size}wait(e){return(0,r.Z)(function*(){return new Promise(t=>setTimeout(t,e))})()}}}}]);